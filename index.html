<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>родро╛ро╕рпН рокрпКродрпБ роЪрпЗро╡рпИ роорпИропроорпН</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #4F46E5;
            --primary-dark: #4338CA;
            --secondary: #D97706;
            --secondary-dark: #B45309;
            --success: #059669;
            --danger: #DC2626;
            --light: #F3F4F6;
            --dark: #1F2937;
            --gray: #6B7280;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #EEF2FF 0%, #E0E7FF 100%);
            min-height: 100vh;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }

        /* Navigation */
        .navbar {
            background: white;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .nav-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            text-decoration: none;
            color: var(--dark);
        }

        .logo-icon {
            width: 40px;
            height: 40px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            font-weight: bold;
            color: white;
        }

        .logo-text {
            font-size: 20px;
            font-weight: bold;
            color: var(--primary-dark);
        }

        .nav-menu {
            display: flex;
            list-style: none;
            gap: 20px;
        }

        .nav-link {
            text-decoration: none;
            color: var(--dark);
            font-weight: 600;
            padding: 8px 15px;
            border-radius: 5px;
            transition: all 0.3s;
        }

        .nav-link:hover, .nav-link.active {
            background: var(--primary);
            color: white;
        }

        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
        }

        /* Main Content */
        .main-content {
            padding: 40px 0;
            min-height: calc(100vh - 200px);
        }

        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        /* Home Page */
        .hero {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 40px;
            text-align: center;
            margin-bottom: 30px;
        }

        .hero h1 {
            color: var(--primary);
            font-size: 36px;
            margin-bottom: 10px;
        }

        .hero p {
            color: var(--gray);
            font-size: 18px;
            margin-bottom: 20px;
        }

        .contact-info {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 20px;
            flex-wrap: wrap;
        }

        .contact-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--primary);
            font-weight: bold;
            padding: 10px 15px;
            background: #F3F4F6;
            border-radius: 8px;
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 40px;
        }

        .feature-card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 30px;
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
            cursor: pointer;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
        }

        .feature-icon {
            font-size: 40px;
            margin-bottom: 15px;
            color: var(--primary);
        }

        .feature-card h3 {
            color: var(--dark);
            margin-bottom: 10px;
        }

        .feature-card p {
            color: var(--gray);
        }

        /* Common Card Styles */
        .card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 30px;
            margin-bottom: 20px;
        }

        .header {
            text-align: center;
            border-bottom: 3px solid var(--primary);
            padding-bottom: 20px;
            margin-bottom: 20px;
        }

        .header-content {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 20px;
            margin-bottom: 15px;
        }

        .logo-large {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 40px;
            font-weight: bold;
            color: white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.2);
        }

        h1 {
            color: var(--primary);
            font-size: 28px;
            margin: 0;
        }

        .subtitle {
            color: var(--gray);
            margin-top: 5px;
        }

        .contact {
            color: var(--primary);
            font-weight: bold;
            margin: 10px 0;
        }

        .form-group {
            margin-bottom: 15px;
            position: relative;
        }

        label {
            display: block;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 5px;
        }

        input[type="text"],
        input[type="tel"],
        input[type="number"],
        input[type="date"],
        textarea,
        select {
            width: 100%;
            padding: 10px;
            border: 2px solid #E5E7EB;
            border-radius: 8px;
            font-size: 14px;
            font-family: 'Arial', sans-serif;
        }

        input:focus,
        textarea:focus,
        select:focus {
            outline: none;
            border-color: var(--primary);
        }

        .grid-2 {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
        }

        .grid-4 {
            display: grid;
            grid-template-columns: 2fr 1fr 1fr;
            gap: 15px;
            margin-bottom: 15px;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            transition: all 0.3s;
            font-family: 'Arial', sans-serif;
        }

        .btn:disabled {
            background: #9CA3AF;
            cursor: not-allowed;
        }

        .btn-primary {
            background: var(--primary);
            color: white;
        }

        .btn-primary:hover:not(:disabled) {
            background: var(--primary-dark);
        }

        .btn-success {
            background: var(--success);
            color: white;
        }

        .btn-success:hover:not(:disabled) {
            background: #047857;
        }

        .btn-info {
            background: #2563EB;
            color: white;
        }

        .btn-info:hover:not(:disabled) {
            background: #1D4ED8;
        }

        .btn-danger {
            background: var(--danger);
            color: white;
        }

        .btn-danger:hover {
            background: #B91C1C;
        }

        .btn-secondary {
            background: var(--secondary);
            color: white;
        }

        .btn-secondary:hover {
            background: var(--secondary-dark);
        }

        .btn-warning {
            background: #F59E0B;
            color: white;
        }

        .btn-warning:hover {
            background: #D97706;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        th, td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #E5E7EB;
        }

        th {
            background: var(--light);
            font-weight: 600;
            border-bottom: 2px solid #D1D5DB;
        }

        .text-center {
            text-align: center;
        }

        .text-right {
            text-align: right;
        }

        .empty-state {
            text-align: center;
            padding: 40px;
            color: #9CA3AF;
        }

        .summary {
            margin-top: 20px;
            border-top: 2px solid #E5E7EB;
            padding-top: 20px;
        }

        .summary-row {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            font-size: 16px;
        }

        .summary-total {
            font-size: 20px;
            font-weight: bold;
            color: var(--primary);
            border-top: 2px solid var(--primary);
            padding-top: 10px;
            margin-top: 10px;
        }

        .actions {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
        }

        .footer {
            text-align: center;
            color: var(--gray);
            margin-top: 30px;
            font-size: 14px;
            padding: 20px 0;
            border-top: 1px solid #E5E7EB;
        }

        .delete-btn {
            background: none;
            border: none;
            color: var(--danger);
            cursor: pointer;
            font-size: 20px;
            padding: 5px;
        }

        .delete-btn:hover {
            color: #B91C1C;
        }

        /* Quotation Specific */
        .quotation-badge {
            background: #FEF3C7;
            color: #92400E;
            padding: 10px 20px;
            border-radius: 8px;
            font-size: 24px;
            font-weight: bold;
            display: inline-block;
            margin-top: 10px;
        }

        .quote-info {
            color: var(--gray);
            font-size: 14px;
            margin-top: 5px;
        }

        .validity-note {
            background: #FEF3C7;
            border-left: 4px solid var(--secondary);
            padding: 15px;
            margin: 20px 0;
            border-radius: 5px;
        }

        .validity-note strong {
            color: #92400E;
        }

        /* Billing Specific */
        .discount-negative {
            color: var(--danger);
        }

        /* Autocomplete Styles */
        .autocomplete-container {
            position: relative;
        }

        .autocomplete-list {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background: white;
            border: 2px solid var(--primary);
            border-top: none;
            border-radius: 0 0 8px 8px;
            max-height: 200px;
            overflow-y: auto;
            z-index: 1000;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }

        .autocomplete-item {
            padding: 10px;
            cursor: pointer;
            border-bottom: 1px solid #E5E7EB;
        }

        .autocomplete-item:hover {
            background: var(--light);
        }

        .autocomplete-item:last-child {
            border-bottom: none;
        }

        .service-price-tag {
            color: var(--success);
            font-weight: bold;
            float: right;
        }

        /* Services Specific */
        .search-box {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 20px;
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .search-input {
            flex: 1;
            padding: 12px 20px;
            border: 2px solid #E5E7EB;
            border-radius: 8px;
            font-size: 16px;
        }

        .search-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .add-service-btn {
            background: var(--primary);
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
        }

        .add-service-btn:hover {
            background: var(--primary-dark);
        }

        .services-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 20px;
        }

        .service-card {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
            transition: transform 0.3s, box-shadow 0.3s;
            position: relative;
        }

        .service-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 12px rgba(0,0,0,0.15);
        }

        .service-card.selected {
            border: 2px solid var(--primary);
            background: #F0F9FF;
        }

        .service-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }

        .service-name {
            font-size: 20px;
            font-weight: bold;
            color: var(--dark);
            margin-bottom: 5px;
        }

        .service-price {
            font-size: 24px;
            font-weight: bold;
            color: var(--success);
        }

        .service-order-controls {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 10px;
        }

        .order-qty {
            width: 60px;
            padding: 6px;
            text-align: center;
            border: 1px solid #E5E7EB;
            border-radius: 4px;
        }

        .documents-section {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 1px solid #E5E7EB;
        }

        .documents-title {
            font-weight: 600;
            color: var(--primary);
            margin-bottom: 10px;
            font-size: 14px;
        }

        .document-item {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 5px;
            color: #4B5563;
            font-size: 14px;
        }

        .edit-delete-btns {
            display: flex;
            gap: 8px;
            margin-top: 15px;
        }

        .btn-small {
            padding: 6px 12px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
        }

        .btn-edit {
            background: #3B82F6;
            color: white;
        }

        .btn-edit:hover {
            background: #2563EB;
        }

        .btn-delete {
            background: var(--danger);
            color: white;
        }

        .btn-delete:hover {
            background: #B91C1C;
        }

        .btn-order {
            background: var(--success);
            color: white;
            padding: 8px 16px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 600;
        }

        .btn-order:hover {
            background: #047857;
        }

        /* Order Summary Section */
        .order-summary {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
            margin-top: 20px;
            position: sticky;
            top: 80px;
        }

        .order-summary h3 {
            color: var(--primary);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 2px solid #E5E7EB;
        }

        .order-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 0;
            border-bottom: 1px solid #E5E7EB;
        }

        .order-item:last-child {
            border-bottom: none;
        }

        .order-item-name {
            font-weight: 600;
            color: var(--dark);
        }

        .order-item-qty {
            color: var(--gray);
            font-size: 14px;
        }

        .order-item-price {
            font-weight: bold;
            color: var(--success);
        }

        .order-total {
            margin-top: 15px;
            padding-top: 15px;
            border-top: 2px solid var(--primary);
            font-size: 18px;
            font-weight: bold;
            color: var(--primary);
            display: flex;
            justify-content: space-between;
        }

        /* Modal Styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0,0,0,0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 10px;
            padding: 30px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            font-size: 22px;
            font-weight: bold;
            color: var(--dark);
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            font-weight: 600;
            color: #374151;
            margin-bottom: 5px;
        }

        .form-input {
            width: 100%;
            padding: 10px;
            border: 2px solid #E5E7EB;
            border-radius: 8px;
            font-size: 14px;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .form-textarea {
            min-height: 100px;
            resize: vertical;
        }

        .modal-buttons {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }

        .btn-submit {
            flex: 1;
            padding: 12px;
            background: var(--success);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
        }

        .btn-submit:hover {
            background: #047857;
        }

        .btn-cancel {
            flex: 1;
            padding: 12px;
            background: var(--gray);
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
        }

        .btn-cancel:hover {
            background: #4B5563;
        }

        /* Quick Order Section */
        .quick-order-section {
            background: white;
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            padding: 20px;
            margin-bottom: 20px;
        }

        .quick-order-section h3 {
            color: var(--primary);
            margin-bottom: 15px;
        }

        .quick-order-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
        }

        .quick-order-btn {
            padding: 10px;
            background: #F3F4F6;
            border: 2px solid #E5E7EB;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
        }

        .quick-order-btn:hover {
            border-color: var(--primary);
            background: #E0E7FF;
        }

        .quick-order-btn .service-name {
            font-size: 16px;
            color: var(--dark);
            margin-bottom: 5px;
        }

        .quick-order-btn .service-price {
            font-size: 18px;
            color: var(--success);
        }

        /* Print Styles */
        @media print {
            body {
                background: white;
                padding: 0;
            }
            .no-print {
                display: none !important;
            }
            .card {
                box-shadow: none;
                page-break-inside: avoid;
            }
            .navbar, .footer, .search-box, .quick-order-section {
                display: none !important;
            }
            .order-summary {
                position: static;
                box-shadow: none;
                border: 1px solid #E5E7EB;
            }
        }

        /* Responsive Styles */
        @media (max-width: 768px) {
            .grid-2, .grid-3, .grid-4, .actions {
                grid-template-columns: 1fr;
            }
            
            .header-content {
                flex-direction: column;
            }
            
            .nav-menu {
                display: none;
                flex-direction: column;
                position: absolute;
                top: 70px;
                left: 0;
                width: 100%;
                background: white;
                box-shadow: 0 5px 10px rgba(0,0,0,0.1);
                padding: 20px;
            }
            
            .nav-menu.active {
                display: flex;
            }
            
            .mobile-menu-btn {
                display: block;
            }
            
            .services-grid {
                grid-template-columns: 1fr;
            }
            
            .quick-order-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .search-box {
                flex-direction: column;
            }
            
            .logo-large {
                width: 60px;
                height: 60px;
                font-size: 30px;
            }
        }

        @media (max-width: 480px) {
            .quick-order-grid {
                grid-template-columns: 1fr;
            }
            
            .hero h1 {
                font-size: 28px;
            }
            
            .logo-text {
                font-size: 16px;
            }
        }

        /* Animation for order items */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .order-item {
            animation: fadeIn 0.3s ease-out;
        }

        /* Badge for new feature */
        .new-badge {
            background: var(--success);
            color: white;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
            margin-left: 5px;
            vertical-align: middle;
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container nav-container">
            <a href="#" class="logo" onclick="showPage('home')">
                <div class="logo-icon">D</div>
                <div class="logo-text">родро╛ро╕рпН рокрпКродрпБ роЪрпЗро╡рпИ роорпИропроорпН</div>
            </a>
            
            <button class="mobile-menu-btn" id="mobileMenuBtn">тШ░</button>
            
            <ul class="nav-menu" id="navMenu">
                <li><a href="#" class="nav-link active" onclick="showPage('home')">роорпБроХрокрпНрокрпБ</a></li>
                <li><a href="#" class="nav-link" onclick="showPage('quotation')">роХрпЛроЯрпНроЯрпЗроЪройрпН</a></li>
                <li><a href="#" class="nav-link" onclick="showPage('billing')">рокро┐ро▓рпН</a></li>
                <li><a href="#" class="nav-link" onclick="showPage('services')">роЪрпЗро╡рпИроХро│рпН</a></li>
                <li><a href="#" class="nav-link" onclick="showPage('order')">роЖро░рпНроЯро░рпН <span class="new-badge">рокрпБродро┐роп</span></a></li>
            </ul>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="container main-content">
        <!-- Home Page -->
        <div id="home" class="page active">
            <div class="hero">
                <div class="logo-large" style="margin: 0 auto 20px auto;">D</div>
                <h1>родро╛ро╕рпН рокрпКродрпБ роЪрпЗро╡рпИ роорпИропроорпН</h1>
                <p>Thoothukudi-1 - роЙроЩрпНроХро│рпН роЕройрпИродрпНродрпБ рокрпКродрпБ роЪрпЗро╡рпИ родрпЗро╡рпИроХро│рпБроХрпНроХрпБроорпН</p>
                
                <div class="contact-info">
                    <div class="contact-item">
                        <span>ЁЯУЮ</span>
                        <span>88 70 23 23 32</span>
                    </div>
                    <div class="contact-item">
                        <span>ЁЯУЮ</span>
                        <span>98 43 23 23 24</span>
                    </div>
                    <div class="contact-item">
                        <span>ЁЯУз</span>
                        <span>dhasscsc@example.com</span>
                    </div>
                </div>
            </div>
            
            <div class="features">
                <div class="feature-card" onclick="showPage('quotation')">
                    <div class="feature-icon">ЁЯУЛ</div>
                    <h3>роХрпЛроЯрпНроЯрпЗроЪройрпН роЬрпЖройро░рпЗроЯрпНроЯро░рпН</h3>
                    <p>ро╡ро╛роЯро┐роХрпНроХрпИропро╛ро│ро░рпНроХро│рпБроХрпНроХро╛рой роородро┐рокрпНрокрпАроЯрпНроЯрпБроХрпН роХрпЛроЯрпНроЯрпЗроЪройрпНроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН</p>
                </div>
                
                <div class="feature-card" onclick="showPage('billing')">
                    <div class="feature-icon">ЁЯз╛</div>
                    <h3>рокро┐ро▓рпН роорпЖройрпНрокрпКро░рпБро│рпН</h3>
                    <p>ро╡ро╛роЯро┐роХрпНроХрпИропро╛ро│ро░рпНроХро│рпБроХрпНроХро╛рой рокро┐ро▓рпНроХро│рпИ роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН</p>
                </div>
                
                <div class="feature-card" onclick="showPage('services')">
                    <div class="feature-icon">ЁЯФз</div>
                    <h3>роЪрпЗро╡рпИроХро│рпН рокроЯрпНроЯро┐ропро▓рпН</h3>
                    <p>роЕройрпИродрпНродрпБ роЪрпЗро╡рпИроХро│рпИропрпБроорпН роЕро╡ро▒рпНро▒ро┐ройрпН ро╡ро┐ро▓рпИроХро│рпИ роиро┐ро░рпНро╡роХро┐роХрпНроХро╡рпБроорпН</p>
                </div>
                
                <div class="feature-card" onclick="showPage('order')">
                    <div class="feature-icon">ЁЯЫТ</div>
                    <h3>роЖро░рпНроЯро░рпН роорпЖройрпНрокрпКро░рпБро│рпН <span class="new-badge">рокрпБродро┐роп</span></h3>
                    <p>роЪрпЗро╡рпИроХро│рпИ роОро│ро┐родро╛роХ роЖро░рпНроЯро░рпН роЪрпЖропрпНродрпБ рокро┐ро▓рпН роЙро░рпБро╡ро╛роХрпНроХро╡рпБроорпН</p>
                </div>
            </div>
        </div>

        <!-- Quotation Page -->
        <div id="quotation" class="page">
            <div class="card">
                <div class="header">
                    <div class="header-content">
                        <div class="logo-large">D</div>
                        <div>
                            <h1>родро╛ро╕рпН рокрпКродрпБ роЪрпЗро╡рпИ роорпИропроорпН</h1>
                            <p class="subtitle">Dhass Csc Thoothukudi-1</p>
                        </div>
                    </div>
                    <p class="contact">роЪрпЖро▓рпН: 88 70 23 23 32 / 98 43 23 23 24</p>
                    <div class="quotation-badge">QUOTATION / роХрпЛроЯрпНроЯрпЗроЪройрпН</div>
                    <p class="quote-info">роОрогрпН: <span id="quoteNo"></span> | родрпЗродро┐: <span id="quoteDate"></span></p>
                </div>

                <!-- Customer Details -->
                <div class="grid-2">
                    <div class="form-group">
                        <label>ро╡ро╛роЯро┐роХрпНроХрпИропро╛ро│ро░рпН рокрпЖропро░рпН</label>
                        <input type="text" id="customerName" placeholder="рокрпЖропро░рпН роЙро│рпНро│ро┐роЯро╡рпБроорпН">
                    </div>
                    <div class="form-group">
                        <label>родрпКро▓рпИрокрпЗроЪро┐ роОрогрпН</label>
                        <input type="tel" id="customerPhone" placeholder="родрпКро▓рпИрокрпЗроЪро┐ роОрогрпН">
                    </div>
                </div>

                <div class="grid-2">
                    <div class="form-group">
                        <label>рооро┐ройрпНройроЮрпНроЪро▓рпН</label>
                        <input type="text" id="customerEmail" placeholder="email@example.com">
                    </div>
                    <div class="form-group">
                        <label>роЪрпЖро▓рпНро▓рпБрокроЯро┐ропро╛роХрпБроорпН родрпЗродро┐</label>
                        <input type="date" id="validUntil">
                    </div>
                </div>

                <div class="form-group">
                    <label>роорпБроХро╡ро░ро┐</label>
                    <textarea id="customerAddress" rows="2" placeholder="роорпБроХро╡ро░ро┐ роЙро│рпНро│ро┐роЯро╡рпБроорпН"></textarea>
                </div>
            </div>

            <!-- Add Item Section -->
            <div class="card no-print">
                <h2 style="margin-bottom: 20px; color: #333;">рокрпКро░рпБро│рпН / роЪрпЗро╡рпИ роЪрпЗро░рпНроХрпНроХ</h2>
                <div class="grid-4">
                    <div class="form-group autocomplete-container">
                        <label>рокрпКро░рпБро│рпН / роЪрпЗро╡рпИ рокрпЖропро░рпН</label>
                        <input type="text" id="itemName" placeholder="рокрпКро░рпБро│рпН рокрпЖропро░рпН (2 роОро┤рпБродрпНродрпБроХрпНроХро│рпН родроЯрпНроЯроЪрпНроЪрпБ роЪрпЖропрпНропро╡рпБроорпН)" oninput="showAutocomplete(this, 'quotation')">
                        <div class="autocomplete-list" id="quotationAutocomplete" style="display: none;"></div>
                    </div>
                    <div class="form-group">
                        <label>роОрогрпНрогро┐роХрпНроХрпИ</label>
                        <input type="number" id="itemQty" value="1" min="1" oninput="calculateQuotationItemTotal()">
                    </div>
                    <div class="form-group">
                        <label>ро╡ро┐ро▓рпИ (тВ╣)</label>
                        <input type="number" id="itemPrice" value="0" min="0" step="0.01" oninput="calculateQuotationItemTotal()">
                    </div>
                </div>
                <div class="form-group">
                    <label>роорпКродрпНрод родрпКроХрпИ: тВ╣<span id="itemTotalPreview">0.00</span></label>
                </div>
                <button class="btn btn-primary" onclick="addItem()" style="width: 100%;">
                    тЮХ рокрпКро░рпБро│рпН роЪрпЗро░рпНроХрпНроХ
                </button>
            </div>

            <!-- Items Table -->
            <div class="card">
                <h2 style="margin-bottom: 20px; color: #333;">роХрпЛроЯрпНроЯрпЗроЪройрпН ро╡ро┐ро╡ро░роЩрпНроХро│рпН</h2>
                <table>
                    <thead>
                        <tr>
                            <th>ро╡.роОрогрпН</th>
                            <th>рокрпКро░рпБро│рпН / роЪрпЗро╡рпИ</th>
                            <th class="text-center">роОрогрпНрогро┐роХрпНроХрпИ</th>
                            <th class="text-right">ро╡ро┐ро▓рпИ (тВ╣)</th>
                            <th class="text-right">роорпКродрпНродроорпН (тВ╣)</th>
                            <th class="text-center no-print">роЪрпЖропро▓рпН</th>
                        </tr>
                    </thead>
                    <tbody id="itemsTable">
                        <tr>
                            <td colspan="6" class="empty-state">рокрпКро░рпБроЯрпНроХро│рпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН</td>
                        </tr>
                    </tbody>
                </table>

                <div id="summarySection" style="display: none;">
                    <div class="summary">
                        <div style="display: flex; justify-content: flex-end;">
                            <div style="width: 300px;">
                                <div class="summary-row">
                                    <span>роЙрок роорпКродрпНродроорпН:</span>
                                    <span id="subtotal">тВ╣0.00</span>
                                </div>
                                <div class="summary-row no-print">
                                    <span>ро╡ро░ро┐ (GST %):</span>
                                    <input type="number" id="taxPercent" value="0" min="0" max="100" step="0.01"
                                           style="width: 120px; padding: 5px; text-align: right; border: 2px solid #E5E7EB; border-radius: 5px;"
                                           onchange="updateSummary()">
                                </div>
                                <div class="summary-row" id="taxDisplay" style="display: none;">
                                    <span>ро╡ро░ро┐:</span>
                                    <span id="taxAmount">тВ╣0.00</span>
                                </div>
                                <div class="summary-row summary-total">
                                    <span>роорпКродрпНрод родрпКроХрпИ:</span>
                                    <span id="total">тВ╣0.00</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="validity-note">
                        <strong>роХрпБро▒ро┐рокрпНрокрпБ:</strong> роЗроирпНрод роХрпЛроЯрпНроЯрпЗроЪройрпН <span id="validityDisplay"></span> ро╡ро░рпИ роЪрпЖро▓рпНро▓рпБрокроЯро┐ропро╛роХрпБроорпН. ро╡ро┐ро▓рпИроХро│рпН рооро╛ро▒рпНро▒родрпНродро┐ро▒рпНроХрпБ роЙроЯрпНрокроЯрпНроЯро╡рпИ.
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="actions no-print">
                <button class="btn btn-success" onclick="printQuotation()" id="printBtn" disabled>
                    ЁЯЦия╕П роЕроЪрпНроЪро┐роЯрпБ
                </button>
                <button class="btn btn-info" onclick="downloadPDF()" id="pdfBtn" disabled>
                    ЁЯУе PDF роЪрпЗрооро┐
                </button>
                <button class="btn btn-danger" onclick="clearQuotation()">
                    ЁЯЧСя╕П рокрпБродро┐роп роХрпЛроЯрпНроЯрпЗроЪройрпН
                </button>
            </div>
        </div>

        <!-- Billing Page -->
        <div id="billing" class="page">
            <div class="card">
                <div class="header">
                    <div class="header-content">
                        <div class="logo-large">D</div>
                        <div>
                            <h1>родро╛ро╕рпН рокрпКродрпБ роЪрпЗро╡рпИ роорпИропроорпН</h1>
                            <p class="subtitle">Dhass Csc Thoothukudi-1</p>
                        </div>
                    </div>
                    <p class="contact">роЪрпЖро▓рпН: 88 70 23 23 32 / 98 43 23 23 24</p>
                    <p class="bill-info">рокро┐ро▓рпН роОрогрпН: <span id="billNo"></span> | родрпЗродро┐: <span id="billDate"></span></p>
                </div>

                <!-- Customer Details -->
                <div class="grid-2">
                    <div class="form-group">
                        <label>ро╡ро╛роЯро┐роХрпНроХрпИропро╛ро│ро░рпН рокрпЖропро░рпН</label>
                        <input type="text" id="billingCustomerName" placeholder="рокрпЖропро░рпН роЙро│рпНро│ро┐роЯро╡рпБроорпН">
                    </div>
                    <div class="form-group">
                        <label>родрпКро▓рпИрокрпЗроЪро┐ роОрогрпН</label>
                        <input type="tel" id="billingCustomerPhone" placeholder="родрпКро▓рпИрокрпЗроЪро┐ роОрогрпН">
                    </div>
                </div>
            </div>

            <!-- Add Item Section -->
            <div class="card no-print">
                <h2 style="margin-bottom: 20px; color: #333;">рокрпКро░рпБро│рпН роЪрпЗро░рпНроХрпНроХ</h2>
                <div class="grid-4">
                    <div class="form-group autocomplete-container">
                        <label>рокрпКро░рпБро│ро┐ройрпН рокрпЖропро░рпН</label>
                        <input type="text" id="billingItemName" placeholder="рокрпКро░рпБро│рпН рокрпЖропро░рпН (2 роОро┤рпБродрпНродрпБроХрпНроХро│рпН родроЯрпНроЯроЪрпНроЪрпБ роЪрпЖропрпНропро╡рпБроорпН)" oninput="showAutocomplete(this, 'billing')">
                        <div class="autocomplete-list" id="billingAutocomplete" style="display: none;"></div>
                    </div>
                    <div class="form-group">
                        <label>роОрогрпНрогро┐роХрпНроХрпИ</label>
                        <input type="number" id="billingItemQty" value="1" min="1" oninput="calculateBillingItemTotal()">
                    </div>
                    <div class="form-group">
                        <label>ро╡ро┐ро▓рпИ (тВ╣)</label>
                        <input type="number" id="billingItemPrice" value="0" min="0" step="0.01" oninput="calculateBillingItemTotal()">
                    </div>
                </div>
                <div class="form-group">
                    <label>роорпКродрпНрод родрпКроХрпИ: тВ╣<span id="billingItemTotalPreview">0.00</span></label>
                </div>
                <button class="btn btn-primary" onclick="addBillingItem()" style="width: 100%;">
                    тЮХ рокрпКро░рпБро│рпН роЪрпЗро░рпНроХрпНроХ
                </button>
            </div>

            <!-- Items Table -->
            <div class="card">
                <h2 style="margin-bottom: 20px; color: #333;">рокро┐ро▓рпН ро╡ро┐ро╡ро░роЩрпНроХро│рпН</h2>
                <table>
                    <thead>
                        <tr>
                            <th>ро╡.роОрогрпН</th>
                            <th>рокрпКро░рпБро│рпН</th>
                            <th class="text-center">роОрогрпНрогро┐роХрпНроХрпИ</th>
                            <th class="text-right">ро╡ро┐ро▓рпИ (тВ╣)</th>
                            <th class="text-right">роорпКродрпНродроорпН (тВ╣)</th>
                            <th class="text-center no-print">роЪрпЖропро▓рпН</th>
                        </tr>
                    </thead>
                    <tbody id="billingItemsTable">
                        <tr>
                            <td colspan="6" class="empty-state">рокрпКро░рпБроЯрпНроХро│рпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН</td>
                        </tr>
                    </tbody>
                </table>

                <div id="billingSummarySection" style="display: none;">
                    <div class="summary">
                        <div style="display: flex; justify-content: flex-end;">
                            <div style="width: 300px;">
                                <div class="summary-row">
                                    <span>роЙрок роорпКродрпНродроорпН:</span>
                                    <span id="billingSubtotal">тВ╣0.00</span>
                                </div>
                                <div class="summary-row no-print">
                                    <span>родро│рпНро│рпБрокроЯро┐:</span>
                                    <input type="number" id="discount" value="0" min="0" step="0.01" 
                                           style="width: 120px; padding: 5px; text-align: right; border: 2px solid #E5E7EB; border-radius: 5px;"
                                           onchange="updateBillingSummary()">
                                </div>
                                <div class="summary-row" id="discountDisplay" style="display: none;">
                                    <span>родро│рпНро│рпБрокроЯро┐:</span>
                                    <span class="discount-negative" id="discountAmount">-тВ╣0.00</span>
                                </div>
                                <div class="summary-row summary-total">
                                    <span>роорпКродрпНрод родрпКроХрпИ:</span>
                                    <span id="billingTotal">тВ╣0.00</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Action Buttons -->
            <div class="actions no-print">
                <button class="btn btn-success" onclick="printBill()" id="billingPrintBtn" disabled>
                    ЁЯЦия╕П рокро┐ро▓рпН роЕроЪрпНроЪро┐роЯрпБ
                </button>
                <button class="btn btn-info" onclick="downloadBillingPDF()" id="billingPdfBtn" disabled>
                    ЁЯУе PDF роЪрпЗрооро┐
                </button>
                <button class="btn btn-danger" onclick="clearBill()">
                    ЁЯЧСя╕П рокрпБродро┐роп рокро┐ро▓рпН
                </button>
            </div>
        </div>

        <!-- Services Page -->
        <div id="services" class="page">
            <div class="card">
                <div class="header">
                    <div class="header-content">
                        <div class="logo-large">D</div>
                        <div>
                            <h1>родро╛ро╕рпН рокрпКродрпБ роЪрпЗро╡рпИ роорпИропроорпН</h1>
                            <p class="subtitle">Dhass Csc Thoothukudi-1</p>
                        </div>
                    </div>
                    <p class="contact">роЪрпЖро▓рпН: 88 70 23 23 32 / 98 43 23 23 24</p>
                </div>
            </div>

            <!-- Search Box -->
            <div class="search-box">
                <input type="text" class="search-input" id="searchInput" placeholder="ЁЯФН роЪрпЗро╡рпИ родрпЗроЯро╡рпБроорпН..." onkeyup="searchServices()">
                <button class="add-service-btn" onclick="openModal()">тЮХ рокрпБродро┐роп роЪрпЗро╡рпИ роЪрпЗро░рпНроХрпНроХ</button>
            </div>

            <!-- Services Grid -->
            <div class="services-grid" id="servicesGrid">
                <div class="empty-state">рокрпБродро┐роп роЪрпЗро╡рпИ роЪрпЗро░рпНроХрпНроХро╡рпБроорпН</div>
            </div>
        </div>

        <!-- Order Page -->
        <div id="order" class="page">
            <div class="card">
                <div class="header">
                    <div class="header-content">
                        <div class="logo-large">D</div>
                        <div>
                            <h1>родро╛ро╕рпН рокрпКродрпБ роЪрпЗро╡рпИ роорпИропроорпН</h1>
                            <p class="subtitle">Dhass Csc Thoothukudi-1</p>
                        </div>
                    </div>
                    <p class="contact">роЪрпЖро▓рпН: 88 70 23 23 32 / 98 43 23 23 24</p>
                    <h2 style="text-align: center; color: var(--primary); margin-top: 10px;">ЁЯЫТ роЪрпЗро╡рпИроХро│рпИ роЖро░рпНроЯро░рпН роЪрпЖропрпНропрпБроЩрпНроХро│рпН</h2>
                </div>
            </div>

            <!-- Quick Order Section -->
            <div class="quick-order-section">
                <h3>тЪб ро╡ро┐ро░рпИро╡рпБ роЖро░рпНроЯро░рпН</h3>
                <div class="quick-order-grid" id="quickOrderGrid">
                    <!-- Quick order buttons will be dynamically added here -->
                </div>
            </div>

            <div class="grid-3">
                <!-- Services Selection -->
                <div class="card" style="grid-column: span 2;">
                    <h2 style="margin-bottom: 20px; color: #333;">роЪрпЗро╡рпИроХро│рпИ родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН</h2>
                    
                    <!-- Search Box -->
                    <div class="search-box" style="margin-bottom: 20px;">
                        <input type="text" class="search-input" id="orderSearchInput" placeholder="ЁЯФН роЖро░рпНроЯро░рпН роЪрпЖропрпНроп роЪрпЗро╡рпИроХро│рпИ родрпЗроЯро╡рпБроорпН..." onkeyup="searchOrderServices()">
                    </div>
                    
                    <!-- Services Grid for Order -->
                    <div class="services-grid" id="orderServicesGrid">
                        <div class="empty-state">роЪрпЗро╡рпИроХро│рпН роПро▒рпНро▒рокрпНрокроЯрпБроХро┐ройрпНро▒рой...</div>
                    </div>
                </div>

                <!-- Order Summary -->
                <div class="order-summary no-print">
                    <h3>ЁЯЫТ роЙроЩрпНроХро│рпН роЖро░рпНроЯро░рпН</h3>
                    <div id="orderItemsList">
                        <div class="empty-state" style="padding: 20px; color: var(--gray);">роЪрпЗро╡рпИроХро│рпИ родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН</div>
                    </div>
                    
                    <div class="order-total">
                        <span>роорпКродрпНрод родрпКроХрпИ:</span>
                        <span id="orderTotalAmount">тВ╣0.00</span>
                    </div>
                    
                    <div style="margin-top: 20px;">
                        <button class="btn btn-primary" onclick="generateBillFromOrder()" id="generateBillBtn" disabled style="width: 100%; margin-bottom: 10px;">
                            ЁЯз╛ рокро┐ро▓рпН роЙро░рпБро╡ро╛роХрпНроХрпБ
                        </button>
                        <button class="btn btn-success" onclick="generateQuotationFromOrder()" id="generateQuoteBtn" disabled style="width: 100%; margin-bottom: 10px;">
                            ЁЯУЛ роХрпЛроЯрпНроЯрпЗроЪройрпН роЙро░рпБро╡ро╛роХрпНроХрпБ
                        </button>
                        <button class="btn btn-danger" onclick="clearOrder()" style="width: 100%;">
                            ЁЯЧСя╕П роЖро░рпНроЯро░рпН роЕро┤ро┐
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer container">
        <p>роиройрпНро▒ро┐! роорпАрогрпНроЯрпБроорпН ро╡ро░рпБроХ! | Thank you! Visit Again!</p>
        <p style="margin-top: 5px; font-size: 12px;">┬й 2024 Dhass рокрпКродрпБ роЪрпЗро╡рпИ роорпИропроорпН. роЕройрпИродрпНродрпБ роЙро░ро┐роорпИроХро│рпБроорпН рокро╛родрпБроХро╛роХрпНроХрокрпНрокроЯрпНроЯро╡рпИ.</p>
    </div>

    <!-- Service Modal -->
    <div class="modal" id="serviceModal">
        <div class="modal-content">
            <div class="modal-header" id="modalTitle">рокрпБродро┐роп роЪрпЗро╡рпИ роЪрпЗро░рпНроХрпНроХ</div>
            <form onsubmit="saveService(event)">
                <div class="form-group">
                    <label class="form-label">роЪрпЗро╡рпИропро┐ройрпН рокрпЖропро░рпН *</label>
                    <input type="text" class="form-input" id="serviceName" required placeholder="роО.роХро╛: роЖродро╛ро░рпН рокро┐ро░ро┐рогрпНроЯрпН">
                </div>
                <div class="form-group">
                    <label class="form-label">ро╡ро┐ро▓рпИ (тВ╣) *</label>
                    <input type="number" class="form-input" id="servicePrice" required placeholder="0" min="0" step="0.01">
                </div>
                <div class="form-group">
                    <label class="form-label">ро╡роХрпИ</label>
                    <select class="form-input" id="serviceCategory">
                        <option value="general">рокрпКродрпБ</option>
                        <option value="government">роЕро░роЪрпБ роЪрпЗро╡рпИроХро│рпН</option>
                        <option value="printing">роЕроЪрпНроЪро┐роЯрпБродро▓рпН</option>
                        <option value="photo">рокрпБроХрпИрокрпНрокроЯроорпН</option>
                        <option value="document">роЖро╡рог роЪрпЗро╡рпИроХро│рпН</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">родрпЗро╡рпИропро╛рой роЖро╡рогроЩрпНроХро│рпН (роТро╡рпНро╡рпКро░рпБ ро╡ро░ро┐ропро┐ро▓рпБроорпН роТройрпНро▒рпБ)</label>
                    <textarea class="form-input form-textarea" id="serviceDocuments" placeholder="роЖродро╛ро░рпН роХро╛ро░рпНроЯрпБ
рокро╛ройрпН роХро╛ро░рпНроЯрпБ
рокрпБроХрпИрокрпНрокроЯроорпН"></textarea>
                </div>
                <div class="modal-buttons">
                    <button type="submit" class="btn-submit">ЁЯТ╛ роЪрпЗрооро┐</button>
                    <button type="button" class="btn-cancel" onclick="closeModal()">тЭМ ро░родрпНродрпБ роЪрпЖропрпН</button>
                </div>
            </form>
        </div>
    </div>

    <!-- JavaScript -->
    <script>
        // Navigation
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show selected page
            document.getElementById(pageId).classList.add('active');
            
            // Update active nav link
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.remove('active');
            });
            
            document.querySelector(`.nav-link[onclick="showPage('${pageId}')"]`).classList.add('active');
            
            // Close mobile menu if open
            document.getElementById('navMenu').classList.remove('active');
            
            // Initialize page-specific functions
            if (pageId === 'quotation') {
                initQuotation();
            } else if (pageId === 'billing') {
                initBilling();
            } else if (pageId === 'services') {
                loadServices();
            } else if (pageId === 'order') {
                loadOrderServices();
            }
        }
        
        // Mobile menu toggle
        document.getElementById('mobileMenuBtn').addEventListener('click', function() {
            document.getElementById('navMenu').classList.toggle('active');
        });
        
        // Order functionality
        let orderItems = [];
        let orderItemIdCounter = 1;
        
        function loadOrderServices() {
            const services = JSON.parse(localStorage.getItem('dhassServices') || '[]');
            renderOrderServices(services);
            renderQuickOrderButtons(services);
        }
        
        function renderOrderServices(services) {
            const grid = document.getElementById('orderServicesGrid');
            
            if (services.length === 0) {
                grid.innerHTML = '<div class="empty-state">роЪрпЗро╡рпИроХро│рпН роЗро▓рпНро▓рпИ. роорпБродро▓ро┐ро▓рпН роЪрпЗро╡рпИроХро│рпИроЪрпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН.</div>';
                return;
            }
            
            grid.innerHTML = services.map(service => `
                <div class="service-card" data-service-id="${service.id}" data-service-name="${service.name.toLowerCase()}">
                    <div class="service-header">
                        <div>
                            <div class="service-name">${service.name}</div>
                            <div style="font-size: 14px; color: var(--gray); margin-top: 5px;">${getCategoryLabel(service.category)}</div>
                        </div>
                        <div class="service-price">тВ╣${service.price.toFixed(2)}</div>
                    </div>
                    <div class="documents-section">
                        <div class="documents-title">ЁЯУЛ родрпЗро╡рпИропро╛рой роЖро╡рогроЩрпНроХро│рпН:</div>
                        ${service.documents.map(doc => `
                            <div class="document-item">
                                <span>тЬУ</span>
                                <span>${doc}</span>
                            </div>
                        `).join('')}
                    </div>
                    <div class="service-order-controls">
                        <button class="btn-small" onclick="decreaseOrderQty(${service.id})">тЮЦ</button>
                        <input type="number" class="order-qty" id="orderQty_${service.id}" value="0" min="0" onchange="updateOrderQty(${service.id}, this.value)">
                        <button class="btn-small" onclick="increaseOrderQty(${service.id})">тЮХ</button>
                        <button class="btn-order" onclick="addToOrder(${service.id})" style="margin-left: auto;">ЁЯЫТ роЪрпЗро░рпНроХрпНроХ</button>
                    </div>
                </div>
            `).join('');
        }
        
        function renderQuickOrderButtons(services) {
            const grid = document.getElementById('quickOrderGrid');
            
            if (services.length === 0) {
                grid.innerHTML = '<div class="empty-state">ро╡ро┐ро░рпИро╡рпБ роЖро░рпНроЯро░рпБроХрпНроХрпБ роЪрпЗро╡рпИроХро│рпН роЗро▓рпНро▓рпИ</div>';
                return;
            }
            
            // Show only first 6 services for quick order
            const quickServices = services.slice(0, 6);
            
            grid.innerHTML = quickServices.map(service => `
                <div class="quick-order-btn" onclick="quickAddToOrder(${service.id})">
                    <div class="service-name">${service.name}</div>
                    <div class="service-price">тВ╣${service.price.toFixed(2)}</div>
                    <div style="font-size: 12px; color: var(--gray); margin-top: 5px;">роХро┐ро│ро┐роХрпН роЪрпЖропрпНропро╡рпБроорпН</div>
                </div>
            `).join('');
        }
        
        function getCategoryLabel(category) {
            const categories = {
                'general': 'рокрпКродрпБ',
                'government': 'роЕро░роЪрпБ роЪрпЗро╡рпИроХро│рпН',
                'printing': 'роЕроЪрпНроЪро┐роЯрпБродро▓рпН',
                'photo': 'рокрпБроХрпИрокрпНрокроЯроорпН',
                'document': 'роЖро╡рог роЪрпЗро╡рпИроХро│рпН'
            };
            return categories[category] || 'рокрпКродрпБ';
        }
        
        function searchOrderServices() {
            const searchTerm = document.getElementById('orderSearchInput').value.toLowerCase();
            const cards = document.querySelectorAll('#orderServicesGrid .service-card');
            
            cards.forEach(card => {
                const serviceName = card.getAttribute('data-service-name');
                if (serviceName.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }
        
        function increaseOrderQty(serviceId) {
            const input = document.getElementById(`orderQty_${serviceId}`);
            input.value = parseInt(input.value) + 1;
        }
        
        function decreaseOrderQty(serviceId) {
            const input = document.getElementById(`orderQty_${serviceId}`);
            if (parseInt(input.value) > 0) {
                input.value = parseInt(input.value) - 1;
            }
        }
        
        function updateOrderQty(serviceId, quantity) {
            const qty = parseInt(quantity) || 0;
            if (qty < 0) {
                document.getElementById(`orderQty_${serviceId}`).value = 0;
            }
        }
        
        function addToOrder(serviceId) {
            const services = JSON.parse(localStorage.getItem('dhassServices') || '[]');
            const service = services.find(s => s.id === serviceId);
            const quantity = parseInt(document.getElementById(`orderQty_${serviceId}`).value) || 1;
            
            if (!service || quantity <= 0) {
                alert('родропро╡рпБроЪрпЖропрпНродрпБ роЪрпЖро▓рпНро▓рпБрокроЯро┐ропро╛рой роОрогрпНрогро┐роХрпНроХрпИропрпИ роЙро│рпНро│ро┐роЯро╡рпБроорпН');
                return;
            }
            
            // Check if service already in order
            const existingItemIndex = orderItems.findIndex(item => item.id === serviceId);
            
            if (existingItemIndex !== -1) {
                // Update quantity
                orderItems[existingItemIndex].quantity += quantity;
                orderItems[existingItemIndex].total = orderItems[existingItemIndex].quantity * service.price;
            } else {
                // Add new item
                orderItems.push({
                    id: serviceId,
                    name: service.name,
                    price: service.price,
                    quantity: quantity,
                    total: service.price * quantity
                });
            }
            
            // Reset quantity input
            document.getElementById(`orderQty_${serviceId}`).value = 0;
            
            renderOrderItems();
            updateOrderButtons();
        }
        
        function quickAddToOrder(serviceId) {
            const services = JSON.parse(localStorage.getItem('dhassServices') || '[]');
            const service = services.find(s => s.id === serviceId);
            
            if (!service) return;
            
            // Set quantity to 1 and add to order
            document.getElementById(`orderQty_${serviceId}`).value = 1;
            addToOrder(serviceId);
        }
        
        function renderOrderItems() {
            const list = document.getElementById('orderItemsList');
            
            if (orderItems.length === 0) {
                list.innerHTML = '<div class="empty-state" style="padding: 20px; color: var(--gray);">роЪрпЗро╡рпИроХро│рпИ родрпЗро░рпНроирпНродрпЖроЯрпБроХрпНроХро╡рпБроорпН</div>';
                document.getElementById('orderTotalAmount').textContent = 'тВ╣0.00';
                return;
            }
            
            list.innerHTML = orderItems.map((item, index) => `
                <div class="order-item">
                    <div>
                        <div class="order-item-name">${item.name}</div>
                        <div class="order-item-qty">${item.quantity} x тВ╣${item.price.toFixed(2)}</div>
                    </div>
                    <div>
                        <div class="order-item-price">тВ╣${item.total.toFixed(2)}</div>
                        <button class="delete-btn" onclick="removeFromOrder(${index})" title="роирпАроХрпНроХрпБ">ЁЯЧСя╕П</button>
                    </div>
                </div>
            `).join('');
            
            const total = orderItems.reduce((sum, item) => sum + item.total, 0);
            document.getElementById('orderTotalAmount').textContent = 'тВ╣' + total.toFixed(2);
        }
        
        function removeFromOrder(index) {
            orderItems.splice(index, 1);
            renderOrderItems();
            updateOrderButtons();
        }
        
        function updateOrderButtons() {
            const hasItems = orderItems.length > 0;
            document.getElementById('generateBillBtn').disabled = !hasItems;
            document.getElementById('generateQuoteBtn').disabled = !hasItems;
        }
        
        function generateBillFromOrder() {
            if (orderItems.length === 0) {
                alert('роорпБродро▓ро┐ро▓рпН роЪрпЗро╡рпИроХро│рпИ роЖро░рпНроЯро░рпН роЪрпЖропрпНропро╡рпБроорпН');
                return;
            }
            
            // Switch to billing page
            showPage('billing');
            
            // Clear existing billing items
            billingItems = [];
            
            // Add order items to billing
            orderItems.forEach(item => {
                billingItems.push({
                    id: billingItemIdCounter++,
                    name: item.name,
                    quantity: item.quantity,
                    price: item.price,
                    total: item.total
                });
            });
            
            // Render billing items
            renderBillingItems();
            updateBillingSummary();
            
            // Clear order
            orderItems = [];
            renderOrderItems();
            updateOrderButtons();
            
            alert('роЖро░рпНроЯро░рпН рокро┐ро▓рпНро▓ро┐ро▓рпН роЪрпЗро░рпНроХрпНроХрокрпНрокроЯрпНроЯродрпБ! ро╡ро╛роЯро┐роХрпНроХрпИропро╛ро│ро░рпН ро╡ро┐ро╡ро░роЩрпНроХро│рпИ роЙро│рпНро│ро┐роЯрпНроЯрпБ рокро┐ро▓рпИ роорпБроЯро┐роХрпНроХро╡рпБроорпН.');
        }
        
        function generateQuotationFromOrder() {
            if (orderItems.length === 0) {
                alert('роорпБродро▓ро┐ро▓рпН роЪрпЗро╡рпИроХро│рпИ роЖро░рпНроЯро░рпН роЪрпЖропрпНропро╡рпБроорпН');
                return;
            }
            
            // Switch to quotation page
            showPage('quotation');
            
            // Clear existing quotation items
            quotationItems = [];
            
            // Add order items to quotation
            orderItems.forEach(item => {
                quotationItems.push({
                    id: quotationItemIdCounter++,
                    name: item.name,
                    quantity: item.quantity,
                    price: item.price,
                    total: item.total
                });
            });
            
            // Render quotation items
            renderQuotationItems();
            updateSummary();
            
            // Clear order
            orderItems = [];
            renderOrderItems();
            updateOrderButtons();
            
            alert('роЖро░рпНроЯро░рпН роХрпЛроЯрпНроЯрпЗроЪройро┐ро▓рпН роЪрпЗро░рпНроХрпНроХрокрпНрокроЯрпНроЯродрпБ! ро╡ро╛роЯро┐роХрпНроХрпИропро╛ро│ро░рпН ро╡ро┐ро╡ро░роЩрпНроХро│рпИ роЙро│рпНро│ро┐роЯрпНроЯрпБ роХрпЛроЯрпНроЯрпЗроЪройрпИ роорпБроЯро┐роХрпНроХро╡рпБроорпН.');
        }
        
        function clearOrder() {
            if (orderItems.length > 0) {
                if (confirm('роЙроЩрпНроХро│рпН роЖро░рпНроЯро░рпИ роЕро┤ро┐роХрпНроХ ро╡ро┐ро░рпБроорпНрокрпБроХро┐ро▒рпАро░рпНроХро│ро╛?')) {
                    orderItems = [];
                    renderOrderItems();
                    updateOrderButtons();
                    
                    // Reset all quantity inputs
                    document.querySelectorAll('.order-qty').forEach(input => {
                        input.value = 0;
                    });
                }
            }
        }
        
        // Rest of the existing JavaScript functions remain the same...
        // (All the original functions for quotation, billing, services, etc.)
        
        // Autocomplete functionality
        function showAutocomplete(input, type) {
            const value = input.value.trim();
            const autocompleteId = type === 'quotation' ? 'quotationAutocomplete' : 'billingAutocomplete';
            const autocompleteList = document.getElementById(autocompleteId);
            
            if (value.length < 2) {
                autocompleteList.style.display = 'none';
                return;
            }
            
            const services = JSON.parse(localStorage.getItem('dhassServices') || '[]');
            const filteredServices = services.filter(service => 
                service.name.toLowerCase().includes(value.toLowerCase())
            );
            
            if (filteredServices.length > 0) {
                autocompleteList.innerHTML = filteredServices.map(service => `
                    <div class="autocomplete-item" onclick="selectService('${service.name}', ${service.price}, '${type}')">
                        ${service.name}
                        <span class="service-price-tag">тВ╣${service.price.toFixed(2)}</span>
                    </div>
                `).join('');
                autocompleteList.style.display = 'block';
            } else {
                autocompleteList.style.display = 'none';
            }
        }
        
        function selectService(name, price, type) {
            if (type === 'quotation') {
                document.getElementById('itemName').value = name;
                document.getElementById('itemPrice').value = price;
                document.getElementById('quotationAutocomplete').style.display = 'none';
                calculateQuotationItemTotal();
            } else if (type === 'billing') {
                document.getElementById('billingItemName').value = name;
                document.getElementById('billingItemPrice').value = price;
                document.getElementById('billingAutocomplete').style.display = 'none';
                calculateBillingItemTotal();
            }
        }

        function calculateQuotationItemTotal() {
            const qty = parseInt(document.getElementById('itemQty').value) || 0;
            const price = parseFloat(document.getElementById('itemPrice').value) || 0;
            const total = qty * price;
            document.getElementById('itemTotalPreview').textContent = total.toFixed(2);
        }

        function calculateBillingItemTotal() {
            const qty = parseInt(document.getElementById('billingItemQty').value) || 0;
            const price = parseFloat(document.getElementById('billingItemPrice').value) || 0;
            const total = qty * price;
            document.getElementById('billingItemTotalPreview').textContent = total.toFixed(2);
        }

        document.addEventListener('click', function(e) {
            if (!e.target.matches('.autocomplete-container input')) {
                document.getElementById('quotationAutocomplete').style.display = 'none';
                document.getElementById('billingAutocomplete').style.display = 'none';
            }
        });
        
        // Quotation functionality
        let quotationItems = [];
        let quotationItemIdCounter = 1;
        
        function initQuotation() {
            updateQuoteInfo();
            const today = new Date();
            const validDate = new Date(today);
            validDate.setDate(validDate.getDate() + 15);
            document.getElementById('validUntil').value = validDate.toISOString().split('T')[0];
            updateValidityDisplay();
        }
        
        function updateQuoteInfo() {
            document.getElementById('quoteNo').textContent = 'Q' + Date.now().toString().slice(-6);
            document.getElementById('quoteDate').textContent = new Date().toLocaleDateString('ta-IN');
        }
        
        function updateValidityDisplay() {
            const validDate = document.getElementById('validUntil').value;
            if (validDate) {
                const formatted = new Date(validDate).toLocaleDateString('ta-IN');
                document.getElementById('validityDisplay').textContent = formatted;
            }
        }
        
        document.getElementById('validUntil').addEventListener('change', updateValidityDisplay);
        
        function addItem() {
            const name = document.getElementById('itemName').value.trim();
            const qty = parseInt(document.getElementById('itemQty').value) || 0;
            const price = parseFloat(document.getElementById('itemPrice').value) || 0;
            const total = qty * price;

            if (name && qty > 0 && price > 0) {
                quotationItems.push({
                    id: quotationItemIdCounter++,
                    name: name,
                    quantity: qty,
                    price: price,
                    total: total
                });
                
                document.getElementById('itemName').value = '';
                document.getElementById('itemQty').value = '1';
                document.getElementById('itemPrice').value = '0';
                document.getElementById('itemTotalPreview').textContent = '0.00';
                
                renderQuotationItems();
                updateSummary();
            } else {
                alert('родропро╡рпБроЪрпЖропрпНродрпБ роЕройрпИродрпНродрпБ ро╡ро┐ро╡ро░роЩрпНроХро│рпИропрпБроорпН роЪро░ро┐ропро╛роХ роЙро│рпНро│ро┐роЯро╡рпБроорпН');
            }
        }
        
        function removeQuotationItem(id) {
            quotationItems = quotationItems.filter(item => item.id !== id);
            renderQuotationItems();
            updateSummary();
        }

        function updateQuotationItemQuantity(id, newQuantity) {
            const item = quotationItems.find(item => item.id === id);
            if (item) {
                item.quantity = parseInt(newQuantity) || 1;
                renderQuotationItems();
                updateSummary();
            }
        }

        function updateQuotationItemPrice(id, newPrice) {
            const item = quotationItems.find(item => item.id === id);
            if (item) {
                item.price = parseFloat(newPrice) || 0;
                renderQuotationItems();
                updateSummary();
            }
        }
        
        function renderQuotationItems() {
            const tbody = document.getElementById('itemsTable');
            
            if (quotationItems.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" class="empty-state">рокрпКро░рпБроЯрпНроХро│рпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН</td></tr>';
                document.getElementById('summarySection').style.display = 'none';
                document.getElementById('printBtn').disabled = true;
                document.getElementById('pdfBtn').disabled = true;
                return;
            }
            
            tbody.innerHTML = quotationItems.map((item, index) => `
                <tr>
                    <td>${index + 1}</td>
                    <td>${item.name}</td>
                    <td class="text-center">
                        <input type="number" value="${item.quantity}" min="1" 
                               style="width: 60px; text-align: center; padding: 5px;"
                               onchange="updateQuotationItemQuantity(${item.id}, this.value)">
                    </td>
                    <td class="text-right">
                        <input type="number" value="${item.price.toFixed(2)}" min="0" step="0.01"
                               style="width: 100px; text-align: right; padding: 5px;"
                               onchange="updateQuotationItemPrice(${item.id}, this.value)">
                    </td>
                    <td class="text-right"><strong>тВ╣${(item.quantity * item.price).toFixed(2)}</strong></td>
                    <td class="text-center no-print">
                        <button class="delete-btn" onclick="removeQuotationItem(${item.id})">ЁЯЧСя╕П</button>
                    </td>
                </tr>
            `).join('');
            
            document.getElementById('summarySection').style.display = 'block';
            document.getElementById('printBtn').disabled = false;
            document.getElementById('pdfBtn').disabled = false;
        }
        
        function calculateQuotationSubtotal() {
            return quotationItems.reduce((sum, item) => sum + (item.quantity * item.price), 0);
        }
        
        function updateSummary() {
            const subtotal = calculateQuotationSubtotal();
            const taxPercent = parseFloat(document.getElementById('taxPercent').value) || 0;
            const taxAmount = (subtotal * taxPercent) / 100;
            const total = subtotal + taxAmount;
            
            document.getElementById('subtotal').textContent = 'тВ╣' + subtotal.toFixed(2);
            document.getElementById('total').textContent = 'тВ╣' + total.toFixed(2);
            
            if (taxPercent > 0) {
                document.getElementById('taxDisplay').style.display = 'flex';
                document.getElementById('taxAmount').textContent = 'тВ╣' + taxAmount.toFixed(2);
            } else {
                document.getElementById('taxDisplay').style.display = 'none';
            }
        }
        
        function printQuotation() {
            window.print();
        }
        
        function downloadPDF() {
            const customerName = document.getElementById('customerName').value || '-';
            const customerPhone = document.getElementById('customerPhone').value || '-';
            const customerEmail = document.getElementById('customerEmail').value || '-';
            const customerAddress = document.getElementById('customerAddress').value || '-';
            const quoteNo = document.getElementById('quoteNo').textContent;
            const quoteDate = document.getElementById('quoteDate').textContent;
            const validUntil = document.getElementById('validityDisplay').textContent;
            const taxPercent = parseFloat(document.getElementById('taxPercent').value) || 0;
            const subtotal = calculateQuotationSubtotal();
            const taxAmount = (subtotal * taxPercent) / 100;
            const total = subtotal + taxAmount;
            
            const itemsHTML = quotationItems.map((item, index) => `
                <tr>
                    <td>${index + 1}</td>
                    <td>${item.name}</td>
                    <td class="text-center">${item.quantity}</td>
                    <td class="text-right">тВ╣${item.price.toFixed(2)}</td>
                    <td class="text-right">тВ╣${(item.quantity * item.price).toFixed(2)}</td>
                </tr>
            `).join('');
            
            const taxHTML = taxPercent > 0 ? `
                <tr>
                    <td>ро╡ро░ро┐ (${taxPercent}%):</td>
                    <td class="text-right">тВ╣${taxAmount.toFixed(2)}</td>
                </tr>
            ` : '';
            
            const pdfHTML = `
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Quotation - ${customerName}</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .header { text-align: center; border-bottom: 3px solid #D97706; padding-bottom: 15px; margin-bottom: 20px; }
        .header-content { display: flex; align-items: center; justify-content: center; gap: 20px; margin-bottom: 15px; }
        .logo { 
            width: 80px; 
            height: 80px; 
            background: linear-gradient(135deg, #4F46E5 0%, #4338CA 100%); 
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-size: 40px; 
            font-weight: bold; 
            color: white; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.2); 
        }
        .header h1 { color: #D97706; margin: 0; font-size: 24px; }
        .header p { margin: 5px 0; color: #666; }
        .contact { font-weight: bold; color: #D97706; }
        .quotation-badge { background: #FEF3C7; color: #92400E; padding: 10px 20px; border-radius: 8px; font-size: 20px; font-weight: bold; display: inline-block; margin: 10px 0; }
        .customer { margin-bottom: 20px; }
        .customer div { margin: 5px 0; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background-color: #FEF3C7; font-weight: bold; border-bottom: 2px solid #D97706; }
        .text-right { text-align: right; }
        .text-center { text-align: center; }
        .summary { margin-top: 30px; }
        .summary table { width: 300px; float: right; }
        .total { font-size: 18px; font-weight: bold; color: #D97706; border-top: 2px solid #D97706; }
        .validity-note { background: #FEF3C7; border-left: 4px solid #D97706; padding: 15px; margin: 20px 0; border-radius: 5px; }
        .footer { text-align: center; margin-top: 50px; color: #666; clear: both; }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="logo">D</div>
            <div>
                <h1>родро╛ро╕рпН рокрпКродрпБ роЪрпЗро╡рпИ роорпИропроорпН</h1>
                <p>Dhass Csc Thoothukudi-1</p>
            </div>
        </div>
        <p class="contact">роЪрпЖро▓рпН: 88 70 23 23 32 / 98 43 23 23 24</p>
        <div class="quotation-badge">QUOTATION / роХрпЛроЯрпНроЯрпЗроЪройрпН</div>
        <p>роОрогрпН: ${quoteNo} | родрпЗродро┐: ${quoteDate}</p>
    </div>
    
    <div class="customer">
        <div><strong>ро╡ро╛роЯро┐роХрпНроХрпИропро╛ро│ро░рпН рокрпЖропро░рпН:</strong> ${customerName}</div>
        <div><strong>родрпКро▓рпИрокрпЗроЪро┐ роОрогрпН:</strong> ${customerPhone}</div>
        <div><strong>рооро┐ройрпНройроЮрпНроЪро▓рпН:</strong> ${customerEmail}</div>
        <div><strong>роорпБроХро╡ро░ро┐:</strong> ${customerAddress}</div>
    </div>
    
    <table>
        <thead>
            <tr>
                <th>ро╡.роОрогрпН</th>
                <th>рокрпКро░рпБро│рпН / роЪрпЗро╡рпИ</th>
                <th class="text-center">роОрогрпНрогро┐роХрпНроХрпИ</th>
                <th class="text-right">ро╡ро┐ро▓рпИ (тВ╣)</th>
                <th class="text-right">роорпКродрпНродроорпН (тВ╣)</th>
            </tr>
        </thead>
        <tbody>
            ${itemsHTML}
        </tbody>
    </table>
    
    <div class="summary">
        <table>
            <tr>
                <td>роЙрок роорпКродрпНродроорпН:</td>
                <td class="text-right">тВ╣${subtotal.toFixed(2)}</td>
            </tr>
            ${taxHTML}
            <tr class="total">
                <td>роорпКродрпНрод родрпКроХрпИ:</td>
                <td class="text-right">тВ╣${total.toFixed(2)}</td>
            </tr>
        </table>
    </div>
    
    <div class="validity-note">
        <strong>роХрпБро▒ро┐рокрпНрокрпБ:</strong> роЗроирпНрод роХрпЛроЯрпНроЯрпЗроЪройрпН ${validUntil} ро╡ро░рпИ роЪрпЖро▓рпНро▓рпБрокроЯро┐ропро╛роХрпБроорпН. ро╡ро┐ро▓рпИроХро│рпН рооро╛ро▒рпНро▒родрпНродро┐ро▒рпНроХрпБ роЙроЯрпНрокроЯрпНроЯро╡рпИ.
    </div>
    
    <div class="footer">
        <p>роиройрпНро▒ро┐! роорпАрогрпНроЯрпБроорпН ро╡ро░рпБроХ!</p>
        <p>Thank you! Visit Again!</p>
    </div>
</body>
</html>
            `;
            
            const printWindow = window.open('', '_blank');
            printWindow.document.write(pdfHTML);
            printWindow.document.close();
            printWindow.focus();
            setTimeout(() => {
                printWindow.print();
            }, 250);
        }
        
        function clearQuotation() {
            if (quotationItems.length > 0) {
                if (confirm('роЕройрпИродрпНродрпБ родроХро╡ро▓рпНроХро│рпИропрпБроорпН роЕро┤ро┐роХрпНроХ ро╡ро┐ро░рпБроорпНрокрпБроХро┐ро▒рпАро░рпНроХро│ро╛?')) {
                    quotationItems = [];
                    document.getElementById('customerName').value = '';
                    document.getElementById('customerPhone').value = '';
                    document.getElementById('customerEmail').value = '';
                    document.getElementById('customerAddress').value = '';
                    document.getElementById('taxPercent').value = '0';
                    renderQuotationItems();
                    updateQuoteInfo();
                    initQuotation();
                }
            } else {
                document.getElementById('customerName').value = '';
                document.getElementById('customerPhone').value = '';
                document.getElementById('customerEmail').value = '';
                document.getElementById('customerAddress').value = '';
                updateQuoteInfo();
                initQuotation();
            }
        }
        
        // Billing functionality
        let billingItems = [];
        let billingItemIdCounter = 1;
        
        function initBilling() {
            updateBillInfo();
        }
        
        function updateBillInfo() {
            document.getElementById('billNo').textContent = Date.now().toString().slice(-6);
            document.getElementById('billDate').textContent = new Date().toLocaleDateString('ta-IN');
        }
        
        function addBillingItem() {
            const name = document.getElementById('billingItemName').value.trim();
            const qty = parseInt(document.getElementById('billingItemQty').value) || 0;
            const price = parseFloat(document.getElementById('billingItemPrice').value) || 0;
            const total = qty * price;

            if (name && qty > 0 && price > 0) {
                billingItems.push({
                    id: billingItemIdCounter++,
                    name: name,
                    quantity: qty,
                    price: price,
                    total: total
                });
                
                document.getElementById('billingItemName').value = '';
                document.getElementById('billingItemQty').value = '1';
                document.getElementById('billingItemPrice').value = '0';
                document.getElementById('billingItemTotalPreview').textContent = '0.00';
                
                renderBillingItems();
                updateBillingSummary();
            } else {
                alert('родропро╡рпБроЪрпЖропрпНродрпБ роЕройрпИродрпНродрпБ ро╡ро┐ро╡ро░роЩрпНроХро│рпИропрпБроорпН роЪро░ро┐ропро╛роХ роЙро│рпНро│ро┐роЯро╡рпБроорпН');
            }
        }
        
        function removeBillingItem(id) {
            billingItems = billingItems.filter(item => item.id !== id);
            renderBillingItems();
            updateBillingSummary();
        }

        function updateBillingItemQuantity(id, newQuantity) {
            const item = billingItems.find(item => item.id === id);
            if (item) {
                item.quantity = parseInt(newQuantity) || 1;
                renderBillingItems();
                updateBillingSummary();
            }
        }

        function updateBillingItemPrice(id, newPrice) {
            const item = billingItems.find(item => item.id === id);
            if (item) {
                item.price = parseFloat(newPrice) || 0;
                renderBillingItems();
                updateBillingSummary();
            }
        }
        
        function renderBillingItems() {
            const tbody = document.getElementById('billingItemsTable');
            
            if (billingItems.length === 0) {
                tbody.innerHTML = '<tr><td colspan="6" class="empty-state">рокрпКро░рпБроЯрпНроХро│рпН роЪрпЗро░рпНроХрпНроХро╡рпБроорпН</td></tr>';
                document.getElementById('billingSummarySection').style.display = 'none';
                document.getElementById('billingPrintBtn').disabled = true;
                document.getElementById('billingPdfBtn').disabled = true;
                return;
            }
            
            tbody.innerHTML = billingItems.map((item, index) => `
                <tr>
                    <td>${index + 1}</td>
                    <td>${item.name}</td>
                    <td class="text-center">
                        <input type="number" value="${item.quantity}" min="1" 
                               style="width: 60px; text-align: center; padding: 5px;"
                               onchange="updateBillingItemQuantity(${item.id}, this.value)">
                    </td>
                    <td class="text-right">
                        <input type="number" value="${item.price.toFixed(2)}" min="0" step="0.01"
                               style="width: 100px; text-align: right; padding: 5px;"
                               onchange="updateBillingItemPrice(${item.id}, this.value)">
                    </td>
                    <td class="text-right"><strong>тВ╣${(item.quantity * item.price).toFixed(2)}</strong></td>
                    <td class="text-center no-print">
                        <button class="delete-btn" onclick="removeBillingItem(${item.id})">ЁЯЧСя╕П</button>
                    </td>
                </tr>
            `).join('');
            
            document.getElementById('billingSummarySection').style.display = 'block';
            document.getElementById('billingPrintBtn').disabled = false;
            document.getElementById('billingPdfBtn').disabled = false;
        }
        
        function calculateBillingSubtotal() {
            return billingItems.reduce((sum, item) => sum + (item.quantity * item.price), 0);
        }
        
        function updateBillingSummary() {
            const subtotal = calculateBillingSubtotal();
            const discount = parseFloat(document.getElementById('discount').value) || 0;
            const total = subtotal - discount;
            
            document.getElementById('billingSubtotal').textContent = 'тВ╣' + subtotal.toFixed(2);
            document.getElementById('billingTotal').textContent = 'тВ╣' + total.toFixed(2);
            
            if (discount > 0) {
                document.getElementById('discountDisplay').style.display = 'flex';
                document.getElementById('discountAmount').textContent = '-тВ╣' + discount.toFixed(2);
            } else {
                document.getElementById('discountDisplay').style.display = 'none';
            }
        }
        
        function printBill() {
            window.print();
        }
        
        function downloadBillingPDF() {
            const customerName = document.getElementById('billingCustomerName').value || '-';
            const customerPhone = document.getElementById('billingCustomerPhone').value || '-';
            const billNo = document.getElementById('billNo').textContent;
            const billDate = document.getElementById('billDate').textContent;
            const discount = parseFloat(document.getElementById('discount').value) || 0;
            const subtotal = calculateBillingSubtotal();
            const total = subtotal - discount;
            
            const itemsHTML = billingItems.map((item, index) => `
                <tr>
                    <td>${index + 1}</td>
                    <td>${item.name}</td>
                    <td class="text-center">${item.quantity}</td>
                    <td class="text-right">тВ╣${item.price.toFixed(2)}</td>
                    <td class="text-right">тВ╣${(item.quantity * item.price).toFixed(2)}</td>
                </tr>
            `).join('');
            
            const discountHTML = discount > 0 ? `
                <tr>
                    <td>родро│рпНро│рпБрокроЯро┐:</td>
                    <td class="text-right" style="color: #DC2626;">-тВ╣${discount.toFixed(2)}</td>
                </tr>
            ` : '';
            
            const pdfHTML = `
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Bill - ${customerName}</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        .header { text-align: center; border-bottom: 2px solid #4F46E5; padding-bottom: 15px; margin-bottom: 20px; }
        .header-content { display: flex; align-items: center; justify-content: center; gap: 20px; margin-bottom: 15px; }
        .logo { 
            width: 80px; 
            height: 80px; 
            background: linear-gradient(135deg, #4F46E5 0%, #4338CA 100%); 
            border-radius: 50%; 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            font-size: 40px; 
            font-weight: bold; 
            color: white; 
            box-shadow: 0 4px 6px rgba(0,0,0,0.2); 
        }
        .header h1 { color: #4F46E5; margin: 0; font-size: 24px; }
        .header p { margin: 5px 0; color: #666; }
        .contact { font-weight: bold; color: #4F46E5; }
        .customer { margin-bottom: 20px; }
        .customer div { margin: 5px 0; }
        table { width: 100%; border-collapse: collapse; margin: 20px 0; }
        th, td { padding: 10px; text-align: left; border-bottom: 1px solid #ddd; }
        th { background-color: #f5f5f5; font-weight: bold; }
        .text-right { text-align: right; }
        .text-center { text-align: center; }
        .summary { margin-top: 30px; }
        .summary table { width: 300px; float: right; }
        .total { font-size: 18px; font-weight: bold; color: #4F46E5; border-top: 2px solid #4F46E5; }
        .footer { text-align: center; margin-top: 50px; color: #666; clear: both; }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="logo">D</div>
            <div>
                <h1>родро╛ро╕рпН рокрпКродрпБ роЪрпЗро╡рпИ роорпИропроорпН</h1>
                <p>Dhass Csc Thoothukudi-1</p>
            </div>
        </div>
        <p class="contact">роЪрпЖро▓рпН: 88 70 23 23 32 / 98 43 23 23 24</p>
        <p>рокро┐ро▓рпН роОрогрпН: ${billNo} | родрпЗродро┐: ${billDate}</p>
    </div>
    
    <div class="customer">
        <div><strong>ро╡ро╛роЯро┐роХрпНроХрпИропро╛ро│ро░рпН рокрпЖропро░рпН:</strong> ${customerName}</div>
        <div><strong>родрпКро▓рпИрокрпЗроЪро┐ роОрогрпН:</strong> ${customerPhone}</div>
    </div>
    
    <table>
        <thead>
            <tr>
                <th>ро╡.роОрогрпН</th>
                <th>рокрпКро░рпБро│рпН</th>
                <th class="text-center">роОрогрпНрогро┐роХрпНроХрпИ</th>
                <th class="text-right">ро╡ро┐ро▓рпИ (тВ╣)</th>
                <th class="text-right">роорпКродрпНродроорпН (тВ╣)</th>
            </tr>
        </thead>
        <tbody>
            ${itemsHTML}
        </tbody>
    </table>
    
    <div class="summary">
        <table>
            <tr>
                <td>роЙрок роорпКродрпНродроорпН:</td>
                <td class="text-right">тВ╣${subtotal.toFixed(2)}</td>
            </tr>
            ${discountHTML}
            <tr class="total">
                <td>роорпКродрпНрод родрпКроХрпИ:</td>
                <td class="text-right">тВ╣${total.toFixed(2)}</td>
            </tr>
        </table>
    </div>
    
    <div class="footer">
        <p>роиройрпНро▒ро┐! роорпАрогрпНроЯрпБроорпН ро╡ро░рпБроХ!</p>
        <p>Thank you! Visit Again!</p>
    </div>
</body>
</html>
            `;
            
            const printWindow = window.open('', '_blank');
            printWindow.document.write(pdfHTML);
            printWindow.document.close();
            printWindow.focus();
            setTimeout(() => {
                printWindow.print();
            }, 250);
        }
        
        function clearBill() {
            if (billingItems.length > 0) {
                if (confirm('роЕройрпИродрпНродрпБ родроХро╡ро▓рпНроХро│рпИропрпБроорпН роЕро┤ро┐роХрпНроХ ро╡ро┐ро░рпБроорпНрокрпБроХро┐ро▒рпАро░рпНроХро│ро╛?')) {
                    billingItems = [];
                    document.getElementById('billingCustomerName').value = '';
                    document.getElementById('billingCustomerPhone').value = '';
                    document.getElementById('discount').value = '0';
                    renderBillingItems();
                    updateBillInfo();
                }
            } else {
                document.getElementById('billingCustomerName').value = '';
                document.getElementById('billingCustomerPhone').value = '';
                updateBillInfo();
            }
        }
        
        // Services functionality
        let services = [];
        let editingId = null;
        
        function loadServices() {
            const stored = localStorage.getItem('dhassServices');
            if (stored) {
                services = JSON.parse(stored);
            } else {
                services = [
                    {
                        id: 1,
                        name: 'роЖродро╛ро░рпН рокро┐ро░ро┐рогрпНроЯрпН',
                        price: 10,
                        category: 'government',
                        documents: ['роЖродро╛ро░рпН роОрогрпН', 'роорпКрокрпИро▓рпН роОрогрпН']
                    },
                    {
                        id: 2,
                        name: 'рокро╛ройрпН роХро╛ро░рпНроЯрпБ ро╡ро┐рогрпНрогрокрпНрокроорпН',
                        price: 120,
                        category: 'government',
                        documents: ['роЖродро╛ро░рпН роХро╛ро░рпНроЯрпБ', 'рокрпБроХрпИрокрпНрокроЯроорпН 2', 'роХрпИропрпКрокрпНрокроорпН']
                    },
                    {
                        id: 3,
                        name: 'рокро╛ро╕рпНрокрпЛро░рпНроЯрпН рокрпЛроЯрпНроЯрпЛ',
                        price: 50,
                        category: 'photo',
                        documents: ['роОроирпНрод роЖро╡рогроорпБроорпН родрпЗро╡рпИропро┐ро▓рпНро▓рпИ']
                    }
                ];
                saveServicesToStorage();
            }
            renderServices();
        }
        
        function saveServicesToStorage() {
            localStorage.setItem('dhassServices', JSON.stringify(services));
        }
        
        function renderServices() {
            const grid = document.getElementById('servicesGrid');
            
            if (services.length === 0) {
                grid.innerHTML = '<div class="empty-state">рокрпБродро┐роп роЪрпЗро╡рпИ роЪрпЗро░рпНроХрпНроХро╡рпБроорпН</div>';
                return;
            }
            
            grid.innerHTML = services.map(service => `
                <div class="service-card" data-service-name="${service.name.toLowerCase()}">
                    <div class="service-header">
                        <div>
                            <div class="service-name">${service.name}</div>
                            <div style="font-size: 14px; color: var(--gray); margin-top: 5px;">${getCategoryLabel(service.category)}</div>
                        </div>
                        <div class="service-price">тВ╣${service.price.toFixed(2)}</div>
                    </div>
                    <div class="documents-section">
                        <div class="documents-title">ЁЯУЛ родрпЗро╡рпИропро╛рой роЖро╡рогроЩрпНроХро│рпН:</div>
                        ${service.documents.map(doc => `
                            <div class="document-item">
                                <span>тЬУ</span>
                                <span>${doc}</span>
                            </div>
                        `).join('')}
                    </div>
                    <div class="edit-delete-btns">
                        <button class="btn-small btn-edit" onclick="editService(${service.id})">тЬПя╕П родро┐ро░рпБродрпНродрпБ</button>
                        <button class="btn-small btn-delete" onclick="deleteService(${service.id})">ЁЯЧСя╕П роирпАроХрпНроХрпБ</button>
                    </div>
                </div>
            `).join('');
        }
        
        function openModal(id = null) {
            const modal = document.getElementById('serviceModal');
            const title = document.getElementById('modalTitle');
            
            if (id) {
                const service = services.find(s => s.id === id);
                title.textContent = 'роЪрпЗро╡рпИропрпИ родро┐ро░рпБродрпНродрпБ';
                document.getElementById('serviceName').value = service.name;
                document.getElementById('servicePrice').value = service.price;
                document.getElementById('serviceCategory').value = service.category || 'general';
                document.getElementById('serviceDocuments').value = service.documents.join('\n');
                editingId = id;
            } else {
                title.textContent = 'рокрпБродро┐роп роЪрпЗро╡рпИ роЪрпЗро░рпНроХрпНроХ';
                document.getElementById('serviceName').value = '';
                document.getElementById('servicePrice').value = '';
                document.getElementById('serviceCategory').value = 'general';
                document.getElementById('serviceDocuments').value = '';
                editingId = null;
            }
            
            modal.classList.add('active');
        }
        
        function closeModal() {
            document.getElementById('serviceModal').classList.remove('active');
            editingId = null;
        }
        
        function saveService(event) {
            event.preventDefault();
            
            const name = document.getElementById('serviceName').value.trim();
            const price = parseFloat(document.getElementById('servicePrice').value);
            const category = document.getElementById('serviceCategory').value;
            const documentsText = document.getElementById('serviceDocuments').value.trim();
            const documents = documentsText ? documentsText.split('\n').filter(d => d.trim()) : [];
            
            if (editingId) {
                const service = services.find(s => s.id === editingId);
                service.name = name;
                service.price = price;
                service.category = category;
                service.documents = documents;
            } else {
                const newId = services.length > 0 ? Math.max(...services.map(s => s.id)) + 1 : 1;
                services.push({
                    id: newId,
                    name: name,
                    price: price,
                    category: category,
                    documents: documents
                });
            }
            
            saveServicesToStorage();
            renderServices();
            
            // Also update order page if it's open
            if (document.getElementById('order').classList.contains('active')) {
                loadOrderServices();
            }
            
            closeModal();
        }
        
        function editService(id) {
            openModal(id);
        }
        
        function deleteService(id) {
            if (confirm('роЗроирпНрод роЪрпЗро╡рпИропрпИ роирпАроХрпНроХ ро╡ро┐ро░рпБроорпНрокрпБроХро┐ро▒рпАро░рпНроХро│ро╛?')) {
                services = services.filter(s => s.id !== id);
                saveServicesToStorage();
                renderServices();
                
                // Also update order page if it's open
                if (document.getElementById('order').classList.contains('active')) {
                    loadOrderServices();
                }
            }
        }
        
        function searchServices() {
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            const cards = document.querySelectorAll('#servicesGrid .service-card');
            
            cards.forEach(card => {
                const serviceName = card.getAttribute('data-service-name');
                if (serviceName.includes(searchTerm)) {
                    card.style.display = 'block';
                } else {
                    card.style.display = 'none';
                }
            });
        }
        
        // Close modal when clicking outside
        document.getElementById('serviceModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeModal();
            }
        });
        
        // Initialize the application
        document.addEventListener('DOMContentLoaded', function() {
            showPage('home');
            loadServices();
        });
    </script>
</body>
</html>